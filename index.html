<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="./animals.js"></script>
    <script src="./giants.js"></script>
    <script src="./bingBlast.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript">
      async function runBlaster() {
        
        /**
         * SEARCH_LIMIT of 40 should be about right to get 150 points
         * - 5 points per search
         * - ... the first 3-5 do not net points
         * - ... sometimes it misses a search
         */

        const SEARCH_LIMIT = 100;
        const shuffled = _.shuffle(GIANTS).slice(0, SEARCH_LIMIT); 
        const TEN_SECONDS = 15000;
        const w = window.open("", "_blank");
        for (const animal of shuffled) {
            await openQuery(`${animal}`, w, TEN_SECONDS);
        }
        if (w) w.close();
      }
    </script>
  </head>

  <body class="bg-slate-800 px-8 py-4 text-center">
    
    <div>
      <button type="submit" class="flex w-full justify-center rounded-md bg-blue-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"  onClick="runBlaster()"> Run Bing Blast</button>
    </div>
    <div class="text-white pt-8">This will open a new window and enter a new search term (a random animal) every 10 seconds. There are ~2800 animals in the list. Click the button and walk away for a few minutes. Make sure you're signed into Bing w/ your Microsoft Account. Do this on a mobile device and a desktop browser! Suggestion: use Edge!</div>
  </body>
</html>
